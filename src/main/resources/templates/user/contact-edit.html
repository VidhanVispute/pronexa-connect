<!DOCTYPE html>
<html lang="en" th:replace="~{base :: parent(~{::#content}, ~{::title}, ~{})}">
<head>
    <title>Edit Contact - [[${contact.name}]]</title>
</head>
<body>
<div id="content" class="flex flex-col p-6 bg-gray-50 sm:ml-64">

    <!-- Sidebar -->
    <div th:replace="~{user/sidebar :: sidebar}"></div>

    <!-- Header -->
    <div class="mb-6 flex items-center justify-between">
        <h1 class="text-2xl font-bold text-gray-700">Edit Contact</h1>
        <a th:href="@{/user/contacts/view/{id}(id=${contact.id})}" 
           class="px-4 py-2 bg-gray-200 rounded-full hover:bg-gray-300">Back</a>
    </div>

    <!-- Card Container -->
    <div class="bg-white shadow-xl rounded-2xl p-8 max-w-4xl mx-auto">

        <!-- Contact Picture + Name -->
        <div class="flex flex-col md:flex-row items-center md:items-start gap-6 mb-6">
            <div class="flex-shrink-0">
                <img th:src="${contact.picture != null && contact.picture != '' ? contact.picture : '/css/default-user.jpeg'}"
                     alt="Contact Image"
                     class="w-32 h-32 rounded-full border-4 border-blue-200 object-cover shadow-md"/>
            </div>
            <div class="flex-1 flex flex-col justify-center gap-2">
                <h2 class="text-3xl font-bold text-blue-700 uppercase" th:text="${contact.name}">Name</h2>
                <span th:if="${contact.favorite}" class="text-yellow-500 text-2xl">★ Favorite</span>
                <span th:unless="${contact.favorite}" class="text-gray-400 text-2xl">☆ Not Favorite</span>
            </div>
        </div>

        <!-- Form -->
        <form th:action="@{/user/contacts/edit/{id}(id=${contact.id})}" 
              th:object="${contact}" method="post" class="grid grid-cols-1 md:grid-cols-2 gap-6">

            <!-- Picture URL -->
            <div>
                <label class="block text-gray-700 font-semibold mb-1">Picture URL</label>
                <input type="text" th:field="*{picture}" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"/>
            </div>

            <!-- Name -->
            <div>
                <label class="block text-gray-700 font-semibold mb-1">Name</label>
                <input type="text" th:field="*{name}" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400" required/>
            </div>

            <!-- Email -->
            <div>
                <label class="block text-gray-700 font-semibold mb-1">Email</label>
                <input type="email" th:field="*{email}" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400" required/>
            </div>

            <!-- Phone -->
            <div>
                <label class="block text-gray-700 font-semibold mb-1">Phone</label>
                <input type="text" th:field="*{phoneNumber}" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"/>
            </div>

            <!-- Address -->
            <div>
                <label class="block text-gray-700 font-semibold mb-1">Address</label>
                <input type="text" th:field="*{address}" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"/>
            </div>

            <!-- Description -->
            <div>
                <label class="block text-gray-700 font-semibold mb-1">Description</label>
                <input type="text" th:field="*{description}" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"/>
            </div>

            <!-- Website -->
            <div>
                <label class="block text-gray-700 font-semibold mb-1">Website</label>
                <input type="url" th:field="*{websiteLink}" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"/>
            </div>

            <!-- LinkedIn -->
            <div>
                <label class="block text-gray-700 font-semibold mb-1">LinkedIn</label>
                <input type="url" th:field="*{linkedInLink}" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400"/>
            </div>

            <!-- Favorite Checkbox (full width) -->
            <div class="col-span-1 md:col-span-2 flex items-center gap-3 mt-2">
                <input type="checkbox" th:field="*{favorite}" id="favorite" class="w-6 h-6"/>
                <label for="favorite" class="text-gray-700 font-semibold">Mark as Favorite</label>
            </div>

            <!-- Submit Button (full width) -->
            <div class="col-span-1 md:col-span-2 mt-4">
                <button type="submit" class="w-full px-6 py-3 bg-blue-600 text-white rounded-full font-semibold text-lg hover:bg-blue-700">
                    Update Contact
                </button>
            </div>

        </form>
    </div>
</div>
</body>
</html>
